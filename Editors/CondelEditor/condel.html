<!DOCTYPE HTML>
<html lang="en">
  <head>
    <meta charset="utf-8">
  	<title>Teste condel </title>
	
	
	
<link rel="stylesheet" href="code_mirror/theme/neat.css">
	
  </head>
  <body>
    <div id="content">
	
	<script src="jquery/jquery-1.5.2.min.js"></script> 
    <script src="jison/condel_parser.js"></script>
	
	<!-- BEGIN Syntax Highlight -->
	
	<link rel="stylesheet" href="code_mirror/lib/codemirror.css">		
	<script src="code_mirror/lib/codemirror.js"></script> 
	<script src="code_mirror/addon/matchbrackets.js"></script> 
	<script src="code_mirror/addon/closebrackets.js"></script> 
	
	<!-- for Autocomplete -->
	<link rel="stylesheet" href="code_mirror/addon/show-hint.css">			
	<script src="code_mirror/addon/show-hint.js"></script> 
	<script src="code_mirror/condel_custom/condel-hint.js"></script> 
	<script src="code_mirror/condel_custom/condel-highlight.js"></script> 
	
	<!-- END Syntax Highlight -->
	
	<script>

	$(document).ready(function () {
        $("button").click(function () {
			try {
				
				var result = parser.parse(editor.getValue());
				document.getElementById('res').innerHTML =result;
			}
			catch (e) {
				//Exception: erro durante a analise do parser
				document.getElementById('error').innerHTML =String(e);
				//alert(String(e));					
			}
        });
      });

	
    </script>
    
    <div style="border: 1px solid black; width:400px;"><textarea id="code" name="code">
ttf:a;
so-ttf:b,c;
layer:d;
input:e1,e2,e3,e4,e5;
sk-af: x;
c{b};
b{c};
so-matrix:k;
matrix:q1,q2,q3;
k{e3,e4,e5};
k{q1,q2,q3};
	  
	  </textarea>

   
	  </div>
	  <button>Try</button> <span></span>
    </p>
</div>
    <script>
	CodeMirror.commands.autocomplete = function(cm) {
        CodeMirror.showHint(cm, CodeMirror.hint.condel_hint);
      };
      var editor = CodeMirror.fromTextArea(document.getElementById("code"), {
        lineNumbers: true,
        matchBrackets: true,
        mode: "text/condel",
		extraKeys: {"Ctrl-Space": "autocomplete"}
      });
	  editor.setOption("theme", "neat");
    </script>
	<div id="res">
	
	</div>
	
	
	<div id="error" style="border: 2px solid red;">
	
	</div>	
	
  </body>
</html>
